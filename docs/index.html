<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åç›´è§‰æ¦‚ç‡æ¨¡æ‹Ÿå™¨</title>
    <style>
        /* åŸºç¡€æ ·å¼ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            background-color: #f4f7f6;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        /* èœå•æ  (Navigation) */
        nav {
            background-color: #007bff;
            padding: 10px 0;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
        }
        nav li {
            margin: 0 15px;
        }
        nav a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1em;
            padding: 10px 15px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        nav a:hover, nav a.active {
            background-color: #0056b3;
        }

        /* å†…å®¹åŒºåŸŸ */
        .simulation-section {
            display: none; /* é»˜è®¤éšè—æ‰€æœ‰å†…å®¹åŒº */
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .simulation-section.active {
            display: block; /* åªæ˜¾ç¤ºæ¿€æ´»çš„ */
        }
        h2 {
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            color: #007bff;
        }
        p {
            line-height: 1.6;
        }
        
        /* è¾“å…¥å’ŒæŒ‰é’® */
        .controls {
            margin: 20px 0;
            display: flex;
            align-items: center;
            gap: 10px; /* å…ƒç´ é—´è· */
        }
        .controls label {
            font-weight: bold;
        }
        .controls input[type="number"] {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 100px;
        }
        .controls button {
            padding: 10px 15px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        .controls button:hover {
            background-color: #218838;
        }

        /* ç»“æœå±•ç¤º */
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #e9f5fe;
            border: 1px solid #bce8f1;
            border-radius: 4px;
            font-size: 1.1em;
            font-weight: bold;
            color: #31708f;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ğŸ² è’™ç‰¹å¡æ´›éšæœºç°è±¡æ¨¡æ‹Ÿ</h1>
        
        <nav>
            <ul>
                <li><a href="#" class="nav-link active" data-target="welcome">æ¬¢è¿</a></li>
                <li><a href="#" class="nav-link" data-target="birthday">ç”Ÿæ—¥æ‚–è®º</a></li>
                <li><a href="#" class="nav-link" data-target="monty-hall">è’™æéœå°”</a></li>
                <li><a href="#" class="nav-link" data-target="gambler">èµŒå¾’ç ´äº§</a></li>
            </ul>
        </nav>

        <section id="welcome" class="simulation-section active">
            <h2>æ¬¢è¿ï¼</h2>
            <p>è¯·åœ¨ä¸Šæ–¹èœå•ä¸­é€‰æ‹©ä¸€ä¸ªæ‚¨æ„Ÿå…´è¶£çš„åç›´è§‰æ¦‚ç‡ç°è±¡ã€‚</p>
            <p>æœ¬é¡¹ç›®ä½¿ç”¨è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿæ–¹æ³•ï¼Œé€šè¿‡ï¼ˆJavaScriptï¼‰è¿è¡Œå¤§é‡éšæœºè¯•éªŒæ¥â€œçœ¼è§ä¸ºå®â€ï¼ŒéªŒè¯é‚£äº›ä»¤äººå›°æƒ‘çš„æ¦‚ç‡é—®é¢˜ã€‚</p>
        </section>

        <section id="birthday" class="simulation-section">
            <h2>ğŸ‚ ç”Ÿæ—¥æ‚–è®º</h2>
            <p>ç°è±¡ï¼šä¸€ä¸ªæˆ¿é—´é‡Œéœ€è¦å¤šå°‘äººï¼Œæ‰èƒ½ä½¿â€œè‡³å°‘æœ‰ä¸¤ä¸ªäººç”Ÿæ—¥ç›¸åŒâ€çš„æ¦‚ç‡è¶…è¿‡ 50%ï¼Ÿ</p>
            <p>ç›´è§‰ï¼šå¤§æ¦‚ 183 äºº (365/2)ï¼Ÿ <strong>äº‹å®ï¼šåªéœ€è¦ 23 äººï¼</strong></p>
            
            <div class="controls">
                <label for="birthday-people">æˆ¿é—´äººæ•°ï¼š</label>
                <input type="number" id="birthday-people" value="23">
                <label for="birthday-trials">æ¨¡æ‹Ÿæ¬¡æ•°ï¼š</label>
                <input type="number" id="birthday-trials" value="10000">
                <button id="run-birthday">å¼€å§‹æ¨¡æ‹Ÿ</button>
            </div>
            
            <div id="birthday-result" class="result" style="display:none;"></div>
        </section>

        <section id="monty-hall" class="simulation-section">
            <h2>ğŸ è’™æéœå°”é—®é¢˜</h2>
            <p>ç°è±¡ï¼šä¸‰æ‰‡é—¨ï¼Œä¸€æ‰‡åæœ‰è½¦ï¼Œä¸¤æ‰‡åæœ‰å±±ç¾Šã€‚ä½ é€‰1å·é—¨åï¼Œä¸»æŒäººæ‰“å¼€3å·é—¨ï¼ˆå±±ç¾Šï¼‰ã€‚ä½ æ˜¯å¦åº”è¯¥æ¢åˆ°2å·é—¨ï¼Ÿ</d>
            <p>ç›´è§‰ï¼šå‰©ä¸‹ä¸¤æ‰‡é—¨ï¼Œæ¦‚ç‡ 50/50ã€‚ <strong>äº‹å®ï¼šæ¢é—¨ï¼Œèµ¢ç‡ç¿»å€ (ä» 1/3 åˆ° 2/3)ï¼</strong></p>
            
            <div class="controls">
                <label for="monty-trials">æ¨¡æ‹Ÿæ¬¡æ•°ï¼š</label>
                <input type="number" id="monty-trials" value="10000">
                <button id="run-monty">å¼€å§‹æ¨¡æ‹Ÿ</button>
            </div>
            
            <div id="monty-result" class="result" style="display:none;"></div>
        </section>

        <section id="gambler" class="simulation-section">
            <h2>ğŸ’¸ èµŒå¾’ç ´äº§</h2>
            <p>ç°è±¡ï¼šä½  (A) æœ‰ 100 å…ƒï¼Œå¯¹æ‰‹ (B) æœ‰ 1000 å…ƒï¼Œç©å…¬å¹³çš„æŠ›ç¡¬å¸ï¼ˆèµŒ1å…ƒï¼‰ã€‚è°å…ˆç ´äº§ï¼Ÿ</p>
            <p>ç›´è§‰ï¼šå…¬å¹³æ¸¸æˆï¼Œæ¦‚ç‡ 50/50ã€‚ <strong>äº‹å®ï¼šä½ çš„ç ´äº§ç‡é«˜è¾¾ 90.9%ï¼</strong></p>

            <div class="controls">
                <label for="gambler-trials">æ¨¡æ‹Ÿæ¬¡æ•°ï¼š</label>
                <input type="number" id="gambler-trials" value="1000">
                <button id="run-gambler">å¼€å§‹æ¨¡æ‹Ÿ</button>
            </div>
            
            <div id="gambler-result" class="result" style="display:none;"></div>
        </section>

    </div>

    <script>
        // === ç¬¬ 1 éƒ¨åˆ†ï¼šèœå•æ å¯¼èˆª ===
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.simulation-section');

        // å¯¼èˆªç‚¹å‡»äº‹ä»¶
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault(); // é˜»æ­¢é“¾æ¥é»˜è®¤è·³è½¬
                
                // ç§»é™¤æ‰€æœ‰ 'active' çŠ¶æ€
                navLinks.forEach(l => l.classList.remove('active'));
                sections.forEach(s => s.classList.remove('active'));

                // æ·»åŠ  'active' çŠ¶æ€
                const targetId = link.getAttribute('data-target');
                document.getElementById(targetId).classList.add('active');
                link.classList.add('active');
            });
        });

        // === ç¬¬ 2 éƒ¨åˆ†ï¼šè’™ç‰¹å¡æ´›æ¨¡æ‹Ÿå‡½æ•° ===
        
        // --- æ¨¡æ‹Ÿ 1ï¼šç”Ÿæ—¥æ‚–è®º ---
        document.getElementById('run-birthday').addEventListener('click', () => {
            const numPeople = parseInt(document.getElementById('birthday-people').value);
            const numTrials = parseInt(document.getElementById('birthday-trials').value);
            const resultDisplay = document.getElementById('birthday-result');

            let successCount = 0; // è‡³å°‘æœ‰ä¸¤äººåŒç”Ÿæ—¥çš„æ¬¡æ•°

            for (let i = 0; i < numTrials; i++) {
                const birthdays = new Set(); // ä½¿ç”¨ Set æ¥å¿«é€Ÿæ£€æµ‹é‡å¤
                let hasDuplicate = false;
                for (let j = 0; j < numPeople; j++) {
                    const birthday = Math.floor(Math.random() * 365) + 1; // 1 åˆ° 365
                    if (birthdays.has(birthday)) {
                        hasDuplicate = true;
                        break; // å·²å‘ç°é‡å¤ï¼Œåœæ­¢æœ¬è½®æ¨¡æ‹Ÿ
                    }
                    birthdays.add(birthday);
                }
                if (hasDuplicate) {
                    successCount++;
                }
            }

            const probability = (successCount / numTrials) * 100;
            resultDisplay.innerHTML = `æ¨¡æ‹Ÿ ${numTrials} æ¬¡ï¼Œ${numPeople} äººçš„æˆ¿é—´ä¸­ï¼š<br>
                                       å‡ºç°ç›¸åŒç”Ÿæ—¥çš„æ¦‚ç‡ â‰ˆ <strong>${probability.toFixed(2)}%</strong>`;
            resultDisplay.style.display = 'block';
        });

        // --- æ¨¡æ‹Ÿ 2ï¼šè’™æéœå°”é—®é¢˜ ---
        document.getElementById('run-monty').addEventListener('click', () => {
            const numTrials = parseInt(document.getElementById('monty-trials').value);
            const resultDisplay = document.getElementById('monty-result');

            let stickWins = 0; // åšæŒä¸æ¢çš„èƒœåˆ©æ¬¡æ•°
            let switchWins = 0; // æ¢é—¨åçš„èƒœåˆ©æ¬¡æ•°

            for (let i = 0; i < numTrials; i++) {
                // 1. éšæœºè®¾ç½®è½¦çš„ä½ç½® (0, 1, 2)
                const carDoor = Math.floor(Math.random() * 3);
                // 2. ç©å®¶éšæœºé€‰æ‹© (0, 1, 2)
                const playerChoice = Math.floor(Math.random() * 3);
                
                // 3. åˆ†æç»“æœ
                // ç­–ç•¥ A: åšæŒä¸æ¢
                if (playerChoice === carDoor) {
                    stickWins++;
                }

                // ç­–ç•¥ B: åšå†³è¦æ¢
                // åªè¦ç©å®¶ä¸€å¼€å§‹æ²¡é€‰ä¸­è½¦ï¼Œä»–æ¢é—¨å°±å¿…èµ¢
                if (playerChoice !== carDoor) {
                    switchWins++;
                }
            }
            
            const stickProb = (stickWins / numTrials) * 100;
            const switchProb = (switchWins / numTrials) * 100;

            resultDisplay.innerHTML = `æ¨¡æ‹Ÿ ${numTrials} æ¬¡ï¼š<br>
                                       åšæŒä¸æ¢çš„èƒœç‡ â‰ˆ <strong>${stickProb.toFixed(2)}%</strong> (åº”æ¥è¿‘ 33.3%)<br>
                                       åšå†³æ¢é—¨çš„èƒœç‡ â‰ˆ <strong>${switchProb.toFixed(2)}%</strong> (åº”æ¥è¿‘ 66.7%)`;
            resultDisplay.style.display = 'block';
        });

        // --- æ¨¡æ‹Ÿ 3ï¼šèµŒå¾’ç ´äº§ ---
        document.getElementById('run-gambler').addEventListener('click', () => {
            const numTrials = parseInt(document.getElementById('gambler-trials').value);
            const resultDisplay = document.getElementById('gambler-result');
            
            const moneyA = 100; // ç©å®¶ A çš„æœ¬é‡‘
            const moneyB = 1000; // ç©å®¶ B çš„æœ¬é‡‘
            let aBankruptCount = 0; // A ç ´äº§çš„æ¬¡æ•°

            for (let i = 0; i < numTrials; i++) {
                let a = moneyA;
                let b = moneyB;
                
                // å¼€å§‹å•å±€æ¸¸æˆï¼Œç›´åˆ°ä¸€æ–¹ç ´äº§
                while (a > 0 && b > 0) {
                    if (Math.random() < 0.5) { // å…¬å¹³ç¡¬å¸
                        a++; b--;
                    } else {
                        a--; b++;
                    }
                }
                
                if (a === 0) {
                    aBankruptCount++;
                }
                // (æ³¨æ„ï¼šå•å±€æ¸¸æˆå¯èƒ½è¦å¾ˆä¹…ï¼Œ1000 æ¬¡æ¨¡æ‹Ÿå¯èƒ½éœ€è¦å‡ ç§’é’Ÿ)
            }
            
            const bankruptProb = (aBankruptCount / numTrials) * 100;
            const theoryProb = (moneyB / (moneyA + moneyB)) * 100;

            resultDisplay.innerHTML = `æ¨¡æ‹Ÿ ${numTrials} å±€æ¸¸æˆ (A: ${moneyA}å…ƒ, B: ${moneyB}å…ƒ)ï¼š<br>
                                       ç©å®¶ A (ä½ ) çš„ç ´äº§ç‡ â‰ˆ <strong>${bankruptProb.toFixed(2)}%</strong><br>
                                       (ç†è®ºç ´äº§ç‡ï¼š${theoryProb.toFixed(2)}%)`;
            resultDisplay.style.display = 'block';
        });

    </script>
</body>
</html>